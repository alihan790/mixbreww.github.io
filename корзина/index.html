<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–æ—Ä–∑–∏–Ω–∞</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
      <header class="navbar">
    <div class="logo">
      <img src="./img/mixbrewlogo.jpg" alt="Mix&Brew Logo" />
      <span>Mix&Brew</span>
    </div>
    <nav>
        <ul class="nav-menu">
          <li><a href="../index.html">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a></li>
          <li class="dropdown">
            <a href="#">–ö–∞—Ç–∞–ª–æ–≥ ‚ñº</a>
            <ul class="dropdown-menu">
              <li><a href="../Sale/index.html">SALE</a></li>
              <li><a href="../–±–ª–µ–Ω–¥–µ—Ä—ã/index.html">–ë–ª–µ–Ω–¥–µ—Ä—ã</a></li>
              <li><a href="../–º–∏–∫—Å–µ—Ä—ã/index.html">–ú–∏–∫—Å–µ—Ä—ã</a></li>
              <li><a href="../–∫–æ—Ñ–µ –º–∞—à–∏–Ω–∫–∏/index.html">–ö–æ—Ñ–µ–º–∞—à–∏–Ω—ã –∏ –∫–æ—Ñ–µ–≤–∞—Ä–∫–∏</a></li>

            </ul>
          </li>
          <li><a href="../–æ –Ω–∞—Å/index.html">–û –Ω–∞—Å</a></li>
          <li><a href="#">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
          <li><a href="#" class="search-bar">üîç</a></li>
        </ul>
    
    </nav>
  </header>
  <main class="main">
    <h1 class="title">–ö–æ—Ä–∑–∏–Ω–∞</h1>
    <div id="cart-items"></div>
    <button id="clear-cart">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
  </main>

  <footer class="footer">
    <p>Mix&Brew ¬© 2025. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <p>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É 2‚Äì5 –¥–Ω–µ–π. –°–∞–º–æ–≤—ã–≤–æ–∑ –≤ –≥. –ö–∞—Ä–∞–≥–∞–Ω–¥–∞.</p>
    <p>Email: <a href="mailto:mixandbrew@store.com">mixandbrew@store.com</a> | –¢–µ–ª: +7 (777) 123-45-67</p>
  </footer>

<div id="cart-items"></div>

<div id="cart-summary" class="cart-summary">
  –û–±—â–∞—è —Å—É–º–º–∞: <span id="cart"></span> ‚Ç∏
</div>

<div class="zakaz-btn">
  <a href="../–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞/index.html">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</a>
</div>

<script>
  const cart = JSON.parse(localStorage.getItem('cart')) || {};
  const container = document.getElementById('cart-items');

  for (const [id, item] of Object.entries(cart)) {
    const div = document.createElement('div');
   div.textContent = `${item.name} ‚Äî ${item.quantity} —à—Ç. ‚Äî ${item.price * item.quantity}‚Ç∏`;
    container.appendChild(div);
  }

  document.getElementById('clear-cart').addEventListener('click', () => {
  localStorage.removeItem('cart');
  location.reload(); 

  function renderCart() {
  const cartContainer = document.getElementById('cart');
  cartContainer.innerHTML = ''; 


  
}
});

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è cart
if (typeof cart === 'undefined') {
  try {
    const stored = localStorage.getItem('cart');
    window.cart = stored ? JSON.parse(stored) : {};
  } catch (e) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è cart –∏–∑ localStorage:', e);
    window.cart = {};
  }
}

// –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
function addToCart(productId, productData) {
  if (cart[productId]) {
    cart[productId].quantity += 1;
  } else {
    cart[productId] = { ...productData, quantity: 1 };
  }

  localStorage.setItem('cart', JSON.stringify(cart));
  renderCart();
}

// –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–Ω–æ–ø–∫–∏
function setupBuyButtons() {
  const buttons = document.querySelectorAll('.buy-button');
  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const id = button.dataset.id;
      const name = button.dataset.name;
      const price = parseFloat(button.dataset.price);

      addToCart(id, { name, price });
    });
  });
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
function renderCart() {
  const container = document.getElementById('cart');
  if (!container) {
    console.error('–ù–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ —Å id="cart"');
    return;
  }

  container.innerHTML = '';
  let total = 0;

  Object.values(cart).forEach(item => {
    const line = document.createElement('div');
  
    container.appendChild(line);
    total += item.price * item.quantity;
  });

  const totalDiv = document.createElement('div');
  totalDiv.style.fontWeight = 'bold';
  totalDiv.style.marginTop = '10px';
  totalDiv.textContent = `–ò—Ç–æ–≥–æ: ${total.toFixed(2)} ‚Ç∏`;
  container.appendChild(totalDiv);
}


document.addEventListener('DOMContentLoaded', () => {
  setupBuyButtons();
  renderCart();
});
</script>

</body>
</html> 